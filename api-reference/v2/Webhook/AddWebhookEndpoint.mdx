---
title: "Add Webhook Endpoint"
openapi: "POST /v2/endpoint"
---

Create a new webhook endpoint to receive event notifications.

You can specify which event types to subscribe to and configure the endpoint URL.

<Info>
**Limit**: Each user can create up to **20** webhook endpoints.
</Info>

## Use Cases

- Receive video generation completion notifications
- Monitor task failure events
- Track avatar creation status in real-time
- Integrate with third-party systems

## Important Notes

<Note>
Webhook endpoints must be able to receive POST requests and return a 2xx status code within **5 seconds** to confirm receipt.
</Note>

<Warning>
Ensure your endpoint URL is a publicly accessible **HTTPS** address.
</Warning>

## Available Event Types

### Video Generation Events

| Event | Description | When Triggered |
|-------|-------------|----------------|
| `generated_product_video_success` | Product video generation succeeded | Video is ready to download |
| `generated_product_video_failed` | Product video generation failed | An error occurred during generation |
| `generated_avatar_video_success` | Avatar video generation succeeded | Video is ready to download |
| `generated_avatar_video_failed` | Avatar video generation failed | An error occurred during generation |
| `generated_template_video_success` | Template video generation succeeded | Video is ready to download |
| `generated_template_video_failed` | Template video generation failed | An error occurred during generation |
| `generated_translate_video_success` | Video translation succeeded | Translated video is ready |
| `generated_translate_video_failed` | Video translation failed | An error occurred during translation |

### Avatar Generation Events

| Event | Description | When Triggered |
|-------|-------------|----------------|
| `generated_photo_avatar_success` | Photo avatar creation succeeded | Avatar is ready to use |
| `generated_photo_avatar_failed` | Photo avatar creation failed | An error occurred during avatar creation |
| `generated_product_avatar_success` | Product avatar creation succeeded | Avatar is ready to use |
| `generated_product_avatar_failed` | Product avatar creation failed | An error occurred during avatar creation |

### AI Script Generation Events

| Event | Description | When Triggered |
|-------|-------------|----------------|
| `generated_script_success` | AI script generation succeeded | Scripts are ready to use |
| `generated_script_failed` | AI script generation failed | An error occurred during script generation |

<Tip>
Use the [List Webhook Events](/api-reference/v2/Webhook/ListWebhookEvents) endpoint to get all available event types.
</Tip>

## Webhook Signature Verification

Each webhook request includes a signature to verify the authenticity of the request source. Use the returned `secret` to verify the signature.

### Example Request Headers

```http
POST /webhook HTTP/1.1
Host: your-domain.com
Content-Type: application/json
X-Webhook-Event: generated_avatar_video_success
X-Webhook-Signature: 7256c87be255861cbbe92f4a04a4500176b045a287f258e32e5b6c6b96d7f290
User-Agent: JoggAI-Webhook/2.0
```

### Signature Verification Examples

#### Go

```go
func VerifyWebhookSignature(payload []byte, signature, secret string) bool {
    mac := hmac.New(sha256.New, []byte(secret))
    mac.Write(payload)
    expectedSignature := hex.EncodeToString(mac.Sum(nil))
    return hmac.Equal([]byte(signature), []byte(expectedSignature))
}
```

#### Python

```python
import hmac
import hashlib

def verify_webhook_signature(payload, signature, secret):
    expected = hmac.new(
        secret.encode('utf-8'),
        payload,
        hashlib.sha256
    ).hexdigest()
    return hmac.compare_digest(signature, expected)
```

#### Node.js

```javascript
const crypto = require('crypto');

function verifyWebhookSignature(payload, signature, secret) {
    const expected = crypto
        .createHmac('sha256', secret)
        .update(payload)
        .digest('hex');
    return crypto.timingSafeEqual(
        Buffer.from(signature),
        Buffer.from(expected)
    );
}
```

## Best Practices

<CardGroup cols={2}>
  <Card title="Quick Response" icon="bolt">
    Return 200 status code within 5 seconds
  </Card>
  
  <Card title="Async Processing" icon="clock">
    Return immediately, process business logic in background
  </Card>
  
  <Card title="Idempotent Handling" icon="check-double">
    Same event may be sent multiple times, ensure idempotency
  </Card>
  
  <Card title="Error Retry" icon="rotate">
    System automatically retries failed webhooks
  </Card>
</CardGroup>
